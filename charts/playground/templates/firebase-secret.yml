{{- if and .Values.playground.secrets.enabled .Values.playground.secrets.firebase.enabled -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ .Values.playground.secrets.firebase.secretName }}
  labels:
    {{- include "AGH3-Playground.labels" . | nindent 4 }}
type: Opaque
stringData:
  {{- with .Values.playground.secrets.firebase }}
  firebase.json: |
    {
      "apiKey": {{ required "playground.secrets.firebase.apiKey is required" .apiKey | quote }},
      "authDomain": {{ required "playground.secrets.firebase.authDomain is required" .authDomain | quote }},
      "projectId": {{ required "playground.secrets.firebase.projectId is required" .projectId | quote }},
      "storageBucket": {{ required "playground.secrets.firebase.storageBucket is required" .storageBucket | quote }},
      "messagingSenderId": {{ required "playground.secrets.firebase.messagingSenderId is required" .messagingSenderId | quote }},
      "appId": {{ required "playground.secrets.firebase.appId is required" .appId | quote }},
      "measurementId": {{ .measurementId | quote }}
    }
  {{- end }}
{{- end -}}
